(this["webpackJsonpnasa-api"]=this["webpackJsonpnasa-api"]||[]).push([[0],{135:function(t,e,a){},137:function(t,e,a){"use strict";a.r(e);var n=a(3),o=a.n(n),c=a(20),r=a.n(c),l=(a(69),a(23)),i=a(24),s=a(31),u=a(30),h=a(57),p=a.n(h),d=(a(70),function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{value:"Choose a Date",onChange:t.changeDate}),o.a.createElement("button",{className:"btnCatalog",onClick:t.openCatalog},"Catalog"))}),m=a(60),f=a.n(m),g=a(14),v=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"NASA's Astronomy",Object(g.isEmpty)(t.photo.url)?null:-1===t.photo.url.indexOf("youtube")?" Picture":" Video"," of ",t.photo.date),Object(g.isEmpty)(t.photo.url)?null:-1===t.photo.url.indexOf("youtube")?o.a.createElement("img",{src:t.photo.url,alt:""}):o.a.createElement(f.a,{url:t.photo.url}))},E=a(61),y=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={error:null,isLoaded:!1,data:[],date:new Date},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){for(var t=this,e=this.state.date,a=[],n=0;n<20;n++)e.setDate(e.getDate()-(0===n?0:1)),fetch("".concat(b,"date=").concat(C(e),"&api_key=").concat(O)).then((function(t){return t.json()})).then((function(e){a.push(e),t.setState({isLoaded:!0,data:a})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){var t=this.state.data,e=Object(g.isEmpty)(t)?null:t.filter((function(t){return t.url.indexOf("apod")>=0})),a=Object(g.isEmpty)(e)?null:e.map((function(t){return{src:t.url,width:2,height:2}}));return o.a.createElement("div",{className:"catalog"},o.a.createElement("h2",null,"Last NASA APOD's"),o.a.createElement(E.a,{photos:Object(g.isEmpty)(a)?[]:a,key:(new Date).getTime()}))}}]),a}(n.Component),O=(a(135),"lToNPLq7sV6ofpabhnCEvi0PCN0gcj7MpdvcxaHM"),b="https://api.nasa.gov/planetary/apod?",C=function(t){var e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return"".concat(e,"-").concat(a<10?"0".concat(a):a,"-").concat(n<10?"0".concat(n):n)},j=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={error:null,isLoaded:!1,date:"",photoInfo:{},isCatalogOpen:!1},t.handleChange=function(e){t.setState({startDate:e,isCatalogOpen:!1}),localStorage.setItem("nasaDate",C(e)),t.getPhoto(C(e))},t.getPhoto=function(e){fetch("".concat(b,"date=").concat(e,"&api_key=").concat(O)).then((function(t){return t.json()})).then((function(e){t.setState({isLoaded:!0,photoInfo:e})}),(function(e){t.setState({isLoaded:!0,error:e})}))},t.openCatalog=function(){t.setState({isCatalogOpen:!0})},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=localStorage.getItem("nasaDate")?"".concat(b,"date=").concat(localStorage.getItem("nasaDate"),"&api_key=").concat(O):"".concat(b,"api_key=").concat(O);fetch(e).then((function(t){return t.json()})).then((function(e){t.setState({isLoaded:!0,photoInfo:e,date:e.date})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{changeDate:this.handleChange,openCatalog:this.openCatalog}),this.state.isCatalogOpen?o.a.createElement(y,null):o.a.createElement(v,{photo:this.state.photoInfo,date:this.state.date}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},64:function(t,e,a){t.exports=a(137)},69:function(t,e,a){}},[[64,13,14]]]);
//# sourceMappingURL=main.837918de.chunk.js.map